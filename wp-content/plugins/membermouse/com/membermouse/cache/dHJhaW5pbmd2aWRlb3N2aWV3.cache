/**
 *
 * MemberMouse(TM) (http://www.membermouse.com)
 * (c) MemberMouse, LLC. All rights reserved.
 */
class MM_TrainingVideosView extends MM_RBACAdminView
{
    
    public function __construct()
    {
        parent::__construct();
    }
    
    public function performAction($post)
    {
        $response = parent::performAction($post);
        
        if (!($response instanceof MM_Response))
        {
            switch ($post[self::$MM_JSACTION])
            {
                default:
                    return new MM_Response($response, MM_Response::$SUCCESS, true);
            }
        }
        else
        {
            return $response;
        }
    }
    
    
    public static function displayVideos()
    {
        ?>
		<script charset="UTF-8"
			src="//fast.wistia.com/assets/external/popover-v1.js"></script>
		<div class="mm-metric-row">
			<div class="mm-metric-container mm-metric-container-33 mm-center">
				<a href="//fast.wistia.net/embed/iframe/w216mvi5jr?popover=true" class="wistia-popover[height=425,playerColor=7b796a,width=800]">
				<img
					src="https://membermouse.com/assets/knowledge/training-sm-plugin-tour.jpg"
					alt="">
				</a>
			</div>
			<div class="mm-metric-container mm-metric-container-33 mm-center">
				<a href="//fast.wistia.net/embed/iframe/7cxfa1mvat?popover=true" class="wistia-popover[height=425,playerColor=7b796a,width=800]">
				<img
					src="https://membermouse.com/assets/knowledge/training-sm-products.jpg"
					alt="">
				</a>
			</div>
			<div class="mm-metric-container mm-metric-container-33 mm-center">
				<a href="//fast.wistia.net/embed/iframe/7y3yz2vkul?popover=true" class="wistia-popover[height=425,playerColor=7b796a,width=800]">
				<img
					src="https://membermouse.com/assets/knowledge/training-sm-integrations.jpg"
					alt="">
				</a>
			</div>
		</div>
		<br>
		<div class="mm-metric-row">
			<div class="mm-metric-container mm-metric-container-33 mm-center">
				<a href="//fast.wistia.net/embed/iframe/x0gib0n9hp?popover=true" class="wistia-popover[height=425,playerColor=7b796a,width=800]">
				<img
					src="https://membermouse.com/assets/knowledge/training-sm-core-pages.jpg"
					alt="">
				</a>
			</div>
			<div class="mm-metric-container mm-metric-container-33 mm-center">
				<a href="//fast.wistia.net/embed/iframe/7u8saydktu?popover=true" class="wistia-popover[height=435,playerColor=7b796a,width=800]">
				<img
					src="https://membermouse.com/assets/knowledge/how-to-master-member-management-sm.jpg"
					alt="">
				</a>
			</div>
			<div class="mm-metric-container mm-metric-container-33 mm-center">
				<a href="//fast.wistia.net/embed/iframe/2aljatsk5k?popover=true" class="wistia-popover[height=450,playerColor=7b796a,width=800]">
				<img
					src="https://membermouse.com/assets/knowledge/training-sm-smart-tags.jpg"
					alt="">
				</a>
			</div>
		</div>
		<br>
		<div class="mm-metric-row">
			<div class="mm-metric-container mm-metric-container-33 mm-center">
				<a href="//fast.wistia.net/embed/iframe/it2wagfbjx?popover=true" class="wistia-popover[height=450,playerColor=7b796a,width=800]">
				<img
					src="https://membermouse.com/assets/knowledge/training-sm-push-notifications.jpg"
					alt="">
				</a>
			</div>
		</div>
	<?php 
	}	
}
